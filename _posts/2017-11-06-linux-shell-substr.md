---
title: "Linux shell切割字符串"
layout: post
date: 2017-11-06
tags:
- Linux
categories: LINUX
blog: true
excerpt: Linux shell切割字符串
---

## shell切割字符串
Linux 的字符串截取很有用。有八种方法。
假设有变量 var=http://www.aaa.com/123.htm.

**1. # 号截取，删除左边字符，保留右边字符。**

`echo ${var#*//}`

其中 `var` 是变量名，`#` 号是运算符，`*//` 表示从左边开始删除第一个 `//` 号及左边的所有字符
即删除 `http://`，结果是 ：`www.aaa.com/123.htm`

**2. ## 号截取，删除左边字符，保留右边字符。**

`echo ${var##*/}`

`##*/` 表示从左边开始删除最后（最右边）一个 `/` 号及左边的所有字符
即删除 `http://www.aaa.com/`
结果是 `123.htm`
**3. %号截取，删除右边字符，保留左边字符**

`echo ${var%/*}`

`%/*` 表示从右边开始，删除第一个 `/` 号及右边的字符
结果是：`http://www.aaa.com`

**4. %% 号截取，删除右边字符，保留左边字符**

`echo ${var%%/*}`

`%%/*` 表示从右边开始，删除最后（最左边）一个 `/` 号及右边的字符
结果是：`http:`

**5. 从左边第几个字符开始，及字符的个数**

`echo ${var:0:5}`

其中的 0 表示左边第一个字符开始，5 表示字符的总个数。
结果是：`http:`

**6. 从左边第几个字符开始，一直到结束。**

`echo ${var:7}`

其中的 7 表示左边第8个字符开始，一直到结束。
结果是 ：`www.aaa.com/123.htm`

**7. 从右边第几个字符开始，及字符的个数**

`echo ${var:0-7:3}`

其中的 0-7 表示右边算起第七个字符开始，3 表示字符的个数。
结果是：`123`

**8. 从右边第几个字符开始，一直到结束。**

`echo ${var:0-7}`

表示从右边第七个字符开始，一直到结束。
结果是：`123.htm`
注：（左边的第一个字符是用 0 表示，右边的第一个字符用 0-1 表示）


## 总结

```bash
${varible##*string} 从左向右截取最后一个string后的字符串
${varible#*string}从左向右截取第一个string后的字符串
${varible%%string*}从右向左截取最后一个string后的字符串
${varible%string*}从右向左截取第一个string后的字符串
“*”只是一个通配符可以不要
```
