---
title: "CSS备忘--基本视觉格式化"
layout: post
date: 2017-02-10
tags:
- CSS
categories: CSS
blog: true
excerpt: CSS备忘--基本视觉格式化
---

# CSS备忘--基本视觉格式化

包含关系：外边距>边框>内边距>内容区

包含块：指包含这个元素的块；块级元素的布局依赖于上一层块级元素的布局；行内元素的摆放不直接依赖包含块

元素框：整个外边距内的，也就是全部

正常流：从左到右，从上到下显示的文本布局，要让一个元素不在正常流中，唯一的办法是使其变为浮动或定位元素。

非替换元素：元素的内容包含在文档中；
替换元素：用作其他内容占位符的元素，如img元素，大多数表单元素也是替换元素

块级元素：指p,div之类的元素，在正常流中，会在其框之前和之后生成换行，通过display:block可以让元素生成块级框

行内元素：指strong,span之类的元素，是块级元素的后代，通过display:inline可以让元素生成一个行内框


![](/assets/images/2017-02-10-css-sheet-visual-formatting-01.jpg)

一个元素的width属性定义左内边界到右内边界的距离，height则是上到下内边界的距离

## 水平格式化

**水平属性**：

margin-left, border-left, padding-left, width, padding-right, border-right, margin-right。7个属性加在一起必须是元素包含块的宽度，也往往是块元素的父元素的width值，因为其父元素几乎都是块级元素

**auto**：

只有元素内容的width, 以及左右外边距可以设置为auto，其他4个元素都必须设置为特定的值，或者默认宽度为0；

使用auto后，设置为auto的属性会确定所需的长度，从而使元素框的宽度等于父元素的width，也就是说这7个元素的宽度之和必须为父元素的width

如果3个可以设置为auto的属性都设置为非auto值（CSS术语叫格式化属性过分受限），或者把margin-right强制设置为auto，用户代理将把右外边距重置为auto，右外边距的实际宽度会根据有一个auto值的规则来填补所需的距离，使元素的总宽度等于包含块的width

如果将三个中的左右外边距设置auto，会出现在父元素居中的情况。

如果三个都设置为auto，则两个外边距都会设置为0，width会尽可能的宽，和默认的情况是相同的，即没有为外边据或width显式设置任何值（外边距默认是0，width默认为auto）


负外边距：7个水平属性的总和等于父元素的width，只要总和大于等于0，元素就不会大于其父元素的内容区。但是即使为负数也是可以的，意味着子元素的width会超过父元素边界，但是是允许的。

**百分数**：

如果width,内边距,外边距设置为百分比值，会应用同样的基本规则。值声明为长度还是百分数并不重要。百分比的好处是能够协调分配各种值；长度和百分比最好不要混着用。下面是width分配2/3，左右内边距设置为5%，左外边距为5%，余下的为右外边距

```css
p {
	width: 67%;
	padding-left: 5%;
	padding-right: 5%;
	margin-right: auto;
	margin-left: 5%;
}
```

**替换元素**：

上面是正常文件流非替换块级元素的水平格式化。替换元素更简单一些。

非替换块元素的所有规则同样适用于替换块元素，只有一个例外：如果width为auto，元素的宽度则是内容的固有宽度。对图片而言，如果需要改变图片的值大小，可以显式的设置width的值，这样图片大小就会跟着改变了，但是height的比例也会变化。

## 垂直格式化

一个元素的默认高度由其内容决定。如果对任何块级元素设置显式高度，其结果取决与另外一些元素。

如果height本身大于原有的高度，则多余的高度会产生一个视觉效果，感觉有额外的内边距一样。如果小于原有的高度，会提供其他方法查看所有内容，如可能向元素添加一个滚动条；

如果元素内容高度大于元素框的高度，用户代理的具体行为取决与overflow属性的值。

垂直属性：margin-top,border-top,padding-top,height,padding-bottom,border-bottom,margin-bottom

同样的，加起来往往是父元素的height值

只有3个属性：元素内容的height以及上下外边距可以设置auto，其他值必须设置为特定值，或者默认为0

如果正常流的一个块元素的margin-top或margin-bottom的其中一个或两个设置为auto，它会自动计算为0，相当于没有边距。如果值为0，就不能很容易的将正常流元素在其包含块中垂直居中。

百分比高度：给height设置百分数，会是其包含块height的一个百分数。如果需要元素垂直居中，唯一的方法是上下外边距设置为25%


**auto高度**：height:auto，显示时高度将恰好足以包含其内联内容的行高；高度为auto时，会为段落设置一个边框，并认为没有内边距，下边框是文本最后一行下面，上边框是文本第一行上面。如果子元素只有块级元素，则默认高度是从最高子元素的上外边距边界到最低子元素的下外边距边界之间的距离


**合并垂直外边距**：会将垂直相邻的外边距内并；如无序列表而言，如果对li同时设置margin-top和margin-bottom，只有一个剩下，较小的一个会被较大的一个取代掉。

负外边距：对垂直格式化有影响，而且会影响外边距的合并。如果垂直外边距都设置为负值，浏览器会去连个个外边距的绝对值最大值。如果一个正，一个负，会从正外边距减去负外边距的绝对值，得到元素间的距离



